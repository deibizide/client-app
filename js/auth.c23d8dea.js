(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["auth"],{"1f46":function(e,t,s){"use strict";s.r(t);var a=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"container"},[s("h4",{staticClass:"hmi__header hmi__header__auth font-weight-bold"},[e._v("Register")]),e.isLoggedIn?s("div",{staticClass:"text-center mt-4 badge-info p-2"},[s("p",{staticClass:"mb-0"},[e._v(" You are registered! ")]),e.redirect?s("div",{staticClass:"position-relative mt-2"},[s("p",{staticClass:"mb-1"},[e._v("You will be redirected in a couple of seconds...")]),s("icon",{staticClass:"fa-spin",attrs:{icon:"spinner"}})],1):e._e()]):s("div",{staticClass:"row d-flex justify-content-center mb-4"},[s("div",{staticClass:"col-12 col-md-7"},[e.isError?s("div",{staticClass:"badge-danger p-2 rounded text-center"},[e._v(" "+e._s(e.isError)+" ")]):e._e(),s("ValidationObserver",{ref:"observer",on:{submit:function(t){return t.preventDefault(),e.submit(t)}},scopedSlots:e._u([{key:"default",fn:function(t){t.invalid;return[s("form",[s("div",{staticClass:"form-group"},[s("Input",{attrs:{label:"First Name",name:"firstName",rules:"required",type:"text"},model:{value:e.firstName,callback:function(t){e.firstName=t},expression:"firstName"}})],1),s("div",{staticClass:"form-group"},[s("Input",{attrs:{label:"Last Name",name:"lastName",rules:"required",type:"text"},model:{value:e.lastName,callback:function(t){e.lastName=t},expression:"lastName"}})],1),s("div",{staticClass:"form-group"},[s("Input",{attrs:{label:"Email",name:"email",rules:"email|required",type:"text"},model:{value:e.email,callback:function(t){e.email=t},expression:"email"}})],1),s("div",{staticClass:"form-group"},[s("Input",{attrs:{label:"Password",name:"Password",rules:"min:8|required",type:"password",autocomplete:"current-password"},model:{value:e.password,callback:function(t){e.password=t},expression:"password"}})],1),s("div",{staticClass:"form-group"},[s("Input",{attrs:{label:"Confirm Password",name:"confirm-password",rules:"is:"+e.password+"|required",type:"password"},model:{value:e.passwordConfirm,callback:function(t){e.passwordConfirm=t},expression:"passwordConfirm"}})],1),s("button",{staticClass:"btn btn-block btn-primary position-relative",attrs:{type:"submit",disabled:e.isLoading}},[e.isLoading?s("icon",{staticClass:"button__spinner fa-spin",attrs:{icon:"spinner"}}):e._e(),s("span",[e._v("Register")])],1)])]}}])})],1),s("div",{staticClass:"col-11"},[s("p",{staticClass:"small mt-2 text-center"},[e._v(" Already have an account? "),s("router-link",{attrs:{to:{name:"login"}}},[e._v("Login here")])],1)])])])},r=[],n=(s("96cf"),s("1da1")),i=s("5530"),o=s("2f62"),l=s("7bb1"),c=s("4c93");Object(l["c"])("required",Object(i["a"])(Object(i["a"])({},c["f"]),{},{message:"The field is required"}));var u={components:{ValidationObserver:l["a"]},data:function(){return{isLoading:!1,isError:null,redirect:!1,firstName:null,lastName:null,email:null,password:null,passwordConfirm:null,agreeToTerms:null}},computed:Object(i["a"])({},Object(o["b"])("SESSION",["isLoggedIn"])),methods:{submit:function(){var e=this;return Object(n["a"])(regeneratorRuntime.mark((function t(){var s;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,e.$refs.observer.validate();case 2:s=t.sent,s&&e.registerCommunit();case 4:case"end":return t.stop()}}),t)})))()},registerCommunit:function(){var e=this;return Object(n["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return e.isError=null,e.isLoading=!0,t.prev=2,t.next=5,e.$store.dispatch("SESSION/REGISTER",{firstName:e.firstName,lastName:e.lastName,email:e.email,password:e.password});case 5:t.next=11;break;case 7:t.prev=7,t.t0=t["catch"](2),e.isLoading=!1,e.isError=t.t0;case 11:case"end":return t.stop()}}),t,null,[[2,7]])})))()}},watch:{isLoggedIn:function(e){var t=this;this.isLoading=!1,this.redirect=!0,e&&setTimeout((function(){t.$router.push({name:"admin"})}),2e3)}}},d=u,p=(s("4c57"),s("2877")),m=Object(p["a"])(d,a,r,!1,null,null,null);t["default"]=m.exports},2864:function(e,t,s){"use strict";s.r(t);var a=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"page"},[s("div",{staticClass:"container"},[s("h4",{staticClass:"hmi__header font-weight-bold"},[e._v("Change password")]),s("div",{staticClass:"row d-flex justify-content-center"},[s("div",{staticClass:"col-12 col-md-6 p-5"},[s("div",{staticClass:"form-group"},[s("label",{attrs:{for:"old-password"}},[e._v("Old password")]),s("input",{directives:[{name:"model",rawName:"v-model",value:e.post.password,expression:"post.password"}],staticClass:"form-control",attrs:{id:"old-password",type:"old-password",name:"old-password",minlength:"8",maxLength:"25",required:""},domProps:{value:e.post.password},on:{input:function(t){t.target.composing||e.$set(e.post,"password",t.target.value)}}})]),s("div",{staticClass:"form-group"},[s("label",{attrs:{for:"new-password"}},[e._v("New password")]),s("input",{directives:[{name:"model",rawName:"v-model",value:e.post.password,expression:"post.password"}],staticClass:"form-control",attrs:{id:"new-password",type:"new-password",name:"new-password",minlength:"8",maxLength:"25",required:""},domProps:{value:e.post.password},on:{input:function(t){t.target.composing||e.$set(e.post,"password",t.target.value)}}})]),s("div",{staticClass:"form-group"},[s("label",{attrs:{for:"confirm-new-password"}},[e._v("Confirm new password")]),s("input",{directives:[{name:"model",rawName:"v-model",value:e.post.password,expression:"post.password"}],staticClass:"form-control",attrs:{id:"confirm-new-password",type:"confirm-new-password",name:"confirm-new-password",minlength:"8",maxLength:"25",required:""},domProps:{value:e.post.password},on:{input:function(t){t.target.composing||e.$set(e.post,"password",t.target.value)}}})]),s("button",{staticClass:"btn btn-block btn-primary",attrs:{type:"button"},on:{click:e.submitPasswordUpdate}},[e._v(" Update password ")])])])])])},r=[],n={data:function(){return{post:{oldPassword:null,newPassword:null,confirmNewPassword:null}}},methods:{submitPasswordUpdate:function(){}}},i=n,o=s("2877"),l=Object(o["a"])(i,a,r,!1,null,null,null);t["default"]=l.exports},"4c57":function(e,t,s){"use strict";var a=s("b08c"),r=s.n(a);r.a},"83c9":function(e,t,s){"use strict";s.r(t);var a=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"container"},[s("h4",{staticClass:"hmi__header hmi__header__auth font-weight-bold"},[e._v("Login")]),e.isLoggedIn?s("div",{staticClass:"text-center mt-4 badge-info p-2"},[s("p",{staticClass:"mb-0"},[e._v(" You are logged in! ")]),e.redirect?s("div",{staticClass:"position-relative mt-2"},[s("p",{staticClass:"mb-1"},[e._v("You will be redirected in a couple of seconds...")]),s("icon",{staticClass:"fa-spin",attrs:{icon:"spinner"}})],1):e._e()]):s("div",{staticClass:"row d-flex justify-content-center"},[s("div",{staticClass:"col-12 col-md-6 p-5"},[e.isError?s("div",{staticClass:"badge-danger p-2 rounded text-center mb-2"},[e._v(" "+e._s(e.isError)+" ")]):e._e(),s("ValidationObserver",{ref:"observer",on:{submit:function(t){return t.preventDefault(),e.submit(t)}},scopedSlots:e._u([{key:"default",fn:function(t){t.invalid;return[s("form",[s("div",[s("div",{staticClass:"form-group"},[s("Input",{attrs:{name:"email",label:"Email",rules:"email|required",type:"text"},model:{value:e.email,callback:function(t){e.email=t},expression:"email"}})],1),s("div",{staticClass:"form-group"},[s("Input",{attrs:{name:"password",label:"Password",rules:"min:8|required",type:"password",autocomplete:"password"},model:{value:e.password,callback:function(t){e.password=t},expression:"password"}})],1),s("button",{staticClass:"btn btn-block btn-primary position-relative",attrs:{type:"button",disabled:e.isLoading},on:{click:e.submit}},[e.isLoading?s("Icon",{staticClass:"button__spinner fa-spin",attrs:{icon:"spinner"}}):e._e(),s("span",[e._v("Login")])],1),s("p",{staticClass:"mt-2 small text-center"},[e._v(" Don't have an account? "),s("router-link",{attrs:{to:{name:"register"}}},[e._v("Register here")])],1)])])]}}])})],1)])])},r=[],n=(s("96cf"),s("1da1")),i=s("5530"),o=s("2f62"),l=s("7bb1"),c=s("4c93");Object(l["c"])("required",Object(i["a"])(Object(i["a"])({},c["f"]),{},{message:"The field is required"}));var u={components:{ValidationObserver:l["a"]},data:function(){return{email:null,password:null,isLoading:!1,isError:null,redirect:!1}},computed:Object(i["a"])({},Object(o["b"])("SESSION",["isLoggedIn"])),methods:{submit:function(){var e=this;return Object(n["a"])(regeneratorRuntime.mark((function t(){var s;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,e.$refs.observer.validate();case 2:s=t.sent,s&&e.loginUser();case 4:case"end":return t.stop()}}),t)})))()},loginUser:function(){var e=this;return Object(n["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return e.isLoading=!0,e.isError=null,t.prev=2,t.next=5,e.$store.dispatch("SESSION/LOGIN",{email:e.email,password:e.password});case 5:t.next=11;break;case 7:t.prev=7,t.t0=t["catch"](2),e.isLoading=!1,e.isError=t.t0;case 11:case"end":return t.stop()}}),t,null,[[2,7]])})))()}},watch:{isLoggedIn:function(e){var t=this;this.isLoading=!1,this.redirect=!0,e&&setTimeout((function(){t.$router.push({name:"admin"})}),2e3)}}},d=u,p=s("2877"),m=Object(p["a"])(d,a,r,!1,null,null,null);t["default"]=m.exports},aff0:function(e,t,s){"use strict";s.r(t);var a=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"page d-flex justify-content-center align-items-center my-n1"},[s("Icon",{staticClass:"fa-spin fa-3x text-primary",attrs:{icon:"spinner"}})],1)},r=[],n=(s("96cf"),s("1da1")),i=s("5530"),o=s("2f62"),l={computed:Object(i["a"])({},Object(o["b"])("SESSION",["isLoggedIn"])),mounted:function(){var e=this;return Object(n["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(!e.isLoggedIn){t.next=6;break}return t.next=3,e.$store.dispatch("SESSION/LOGOUT");case 3:setTimeout((function(){e.$router.push({name:"home"})}),2e3),t.next=7;break;case 6:return t.abrupt("return",e.$router.push({name:"home"}));case 7:case"end":return t.stop()}}),t)})))()}},c=l,u=s("2877"),d=Object(u["a"])(c,a,r,!1,null,null,null);t["default"]=d.exports},b08c:function(e,t,s){}}]);
//# sourceMappingURL=auth.c23d8dea.js.map